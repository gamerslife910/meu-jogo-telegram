<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EuroDash Elite Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --p: #00ff9d; --s: #00b0ff; --bg: #050505; --card: #111; }
        
        body { 
            background: var(--bg); 
            color: white; 
            font-family: 'Rajdhani', sans-serif; 
            margin: 0; 
            padding-bottom: 100px; 
            overflow-x: hidden;
            -webkit-user-select: none;
        }

        /* Header DinÃ¢mico */
        .header { 
            background: linear-gradient(180deg, rgba(0,255,157,0.15) 0%, transparent 100%); 
            padding: 25px 15px; 
            text-align: center; 
            border-bottom: 1px solid #222; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            backdrop-filter: blur(15px); 
        }

        .balance-val { 
            font-family: 'Orbitron', sans-serif; 
            font-size: 2.4rem; 
            color: var(--p); 
            margin: 5px 0; 
            text-shadow: 0 0 15px rgba(0,255,157,0.4); 
        }

        .pps-badge { 
            background: rgba(0,255,157,0.1); 
            color: var(--p); 
            padding: 6px 15px; 
            border-radius: 50px; 
            font-size: 12px; 
            font-weight: bold; 
            border: 1px solid rgba(0,255,157,0.3); 
            display: inline-block; 
        }

        /* Tabs de ConteÃºdo */
        .tab-content { display: none; padding: 20px 15px; animation: slideUp 0.4s ease-out; }
        .tab-content.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* CartÃµes da Loja */
        .miner-card { 
            background: var(--card); 
            border-radius: 24px; 
            border: 1px solid #282828; 
            margin-bottom: 30px; 
            overflow: hidden; 
            box-shadow: 0 12px 30px rgba(0,0,0,0.7); 
        }

        .miner-img { 
            width: 100%; 
            height: 250px; 
            object-fit: cover; 
            border-bottom: 3px solid var(--p); 
        }

        .miner-body { padding: 20px; }
        
        .miner-title { 
            font-family: 'Orbitron'; 
            font-size: 19px; 
            color: #fff; 
            margin: 0 0 10px 0; 
        }

        .profit-table { 
            width: 100%; 
            margin: 15px 0; 
            border-collapse: collapse; 
            font-size: 12px; 
            text-align: center; 
            background: rgba(255,255,255,0.03); 
            border-radius: 12px; 
        }

        .profit-table th { color: #666; padding: 10px 0; font-size: 9px; text-transform: uppercase; }
        .profit-table td { color: var(--p); font-weight: bold; font-family: 'Orbitron'; padding: 12px 0; }

        .buy-btn { 
            width: 100%; 
            background: linear-gradient(90deg, #00ff9d, #00b0ff); 
            color: #000; 
            border: none; 
            padding: 16px; 
            border-radius: 14px; 
            font-weight: bold; 
            font-family: 'Orbitron'; 
            cursor: pointer; 
            text-transform: uppercase;
        }

        .buy-btn:active { transform: scale(0.97); }

        /* Clicker Central */
        #main-clicker { 
            font-size: 140px; 
            cursor: pointer; 
            margin: 60px 0; 
            display: inline-block; 
            filter: drop-shadow(0 0 25px var(--p)); 
            transition: transform 0.1s; 
        }
        #main-clicker:active { transform: scale(0.85); }

        /* Menu Inferior Estilo App */
        .nav { 
            position: fixed; 
            bottom: 0; 
            width: 100%; 
            background: rgba(10,10,10,0.95); 
            display: flex; 
            justify-content: space-around; 
            padding: 18px 0; 
            border-top: 1px solid #222; 
            backdrop-filter: blur(10px); 
            z-index: 100; 
        }

        .nav-item { color: #444; font-size: 11px; font-weight: bold; text-align: center; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; }
        .nav-item.active { color: var(--p); text-shadow: 0 0 8px var(--p); }

        .btn-video { 
            background: #1a1a1a; 
            color: white; 
            border: 1px solid var(--s); 
            padding: 18px; 
            border-radius: 16px; 
            width: 100%; 
            max-width: 320px;
            font-weight: bold; 
            font-family: 'Orbitron'; 
            margin: 0 auto;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0,176,255,0.2);
        }
        .btn-video:active { transform: scale(0.95); }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-size: 10px; color: #888; letter-spacing: 3px;">BALANCE TOTAL</div>
        <div class="balance-val">â‚¬ <span id="balance">0.00000</span></div>
        <div class="pps-badge"> Rendimento/Hora: +<span id="pph">0.0000</span> â‚¬</div>
    </div>

    <div id="tab-mine" class="tab-content active" style="text-align: center;">
        <div id="main-clicker">âš¡</div>
        <br>
        <button onclick="verAnuncio()" class="btn-video">ðŸ“º VIDEO BOOST (+â‚¬0.10)</button>
    </div>

    <div id="tab-store" class="tab-content">
        <h3 style="font-family:'Orbitron'; color:var(--p); margin-bottom:25px; text-align: center;">HARDWARE SHOP</h3>
        <div id="shop-list"></div>
    </div>

    <div class="nav">
        <div class="nav-item active" id="nav-mine" onclick="showTab('mine')">âš¡ MINE</div>
        <div class="nav-item" id="nav-store" onclick="showTab('store')">ðŸ›’ SHOP</div>
    </div>

    <script>
        const webapp = window.Telegram.WebApp;
        webapp.expand();

        // Estado do Jogo
        let state = JSON.parse(localStorage.getItem('eurodash_save')) || {
            balance: 0, pps: 0.0000001, lastUpdate: Date.now()
        };

        // ConfiguraÃ§Ã£o dos Mineradores (.JPG)
        const miners = [
            { name: "Pocket Miner V1", price: 1, gain: 0.00000033, img: "miner1.jpg" },
            { name: "Pocket Miner V2", price: 5, gain: 0.00000165, img: "miner2.jpg" },
            { name: "Pocket Miner V3", price: 15, gain: 0.00000495, img: "miner3.jpg" },
            { name: "Server Rack V4", price: 40, gain: 0.00001322, img: "miner4.jpg" },
            { name: "Quantum Cluster V5", price: 100, gain: 0.00003306, img: "miner5.jpg" },
            { name: "Quantum Cluster V6", price: 250, gain: 0.00008264, img: "miner6.jpg" },
            { name: "Quantum Cluster V7", price: 600, gain: 0.00019835, img: "miner7.jpg" }
        ];

        function renderShop() {
            const container = document.getElementById('shop-list');
            container.innerHTML = miners.map(m => {
                const dayGain = (m.gain * 86400).toFixed(2);
                const monthGain = (m.gain * 2592000).toFixed(2);
                return `
                    <div class="miner-card">
                        <img src="${m.img}" class="miner-img" onerror="this.src='https://via.placeholder.com/500x250/111/00ff9d?text=Ficheiro+JPG+nÃ£o+encontrado'">
                        <div class="miner-body">
                            <h4 class="miner-title">${m.name}</h4>
                            <span style="color:var(--s); font-family:Orbitron; font-size:14px; font-weight:bold;">PREÃ‡O: â‚¬ ${m.price.toFixed(2)}</span>
                            <table class="profit-table">
                                <tr><th>Lucro/Dia</th><th>Lucro/MÃªs</th></tr>
                                <tr><td>â‚¬ ${dayGain}</td><td>â‚¬ ${monthGain}</td></tr>
                            </table>
                            <button class="buy-btn" onclick="comprar(${m.price}, ${m.gain})">INVESTIR</button>
                        </div>
                    </div>`;
            }).join('');
        }
        renderShop();

        // Loop Principal
        function updateLoop() {
            const now = Date.now();
            const diff = (now - state.lastUpdate) / 1000;
            state.balance += state.pps * diff;
            state.lastUpdate = now;
            
            document.getElementById('balance').innerText = state.balance.toFixed(5);
            document.getElementById('pph').innerText = (state.pps * 3600).toFixed(4);
            
            localStorage.setItem('eurodash_save', JSON.stringify(state));
            requestAnimationFrame(updateLoop);
        }
        updateLoop();

        // Clique Manual
        document.getElementById('main-clicker').onclick = () => {
            state.balance += 0.00050;
            webapp.HapticFeedback.impactOccurred('light');
        };

        // Troca de Tabs
        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('tab-' + tab).classList.add('active');
            document.getElementById('nav-' + tab).classList.add('active');
            webapp.HapticFeedback.selectionChanged();
        }

        // Sistema de Compra
        function comprar(preco, ganho) {
            if(state.balance >= preco) {
                state.balance -= preco;
                state.pps += ganho;
                webapp.showAlert("Sucesso! O teu hardware jÃ¡ estÃ¡ a minerar.");
                webapp.HapticFeedback.notificationOccurred('success');
            } else {
                webapp.showAlert("Saldo insuficiente.");
                webapp.HapticFeedback.notificationOccurred('error');
            }
        }

        // Adsgram - BotÃ£o Boost Atualizado
        const AdController = window.Adsgram.init({ blockId: "22244" });

        function verAnuncio() {
            webapp.showConfirm("Queres ver um vÃ­deo para ganhar bÃ³nus de â‚¬0.10?", (confirm) => {
                if (confirm) {
                    AdController.show().then(() => {
                        state.balance += 0.10;
                        webapp.showAlert("BOOST! Recebeste â‚¬0.10");
                    }).catch((err) => {
                        console.error(err);
                        webapp.showAlert("AnÃºncio indisponÃ­vel. Tenta novamente mais tarde.");
                    });
                }
            });
        }
    </script>
</body>
</html>
