<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EURODASH ELITE</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap');
        
        /* --- CYBERPUNK BACKGROUND --- */
        body { 
            background-color: #050505;
            background-image: 
                linear-gradient(rgba(0, 255, 153, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 153, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            color: #fff; font-family: 'Rajdhani', sans-serif; margin: 0; text-align: center; overflow: hidden; user-select: none; -webkit-tap-highlight-color: transparent; 
        }
        
        /* Efeito Vinheta */
        body::after { content: ""; position: absolute; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle, transparent 40%, #000 100%); pointer-events: none; z-index: -1; }

        /* --- LOADING MATRIX --- */
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; font-family: monospace; }
        .glitch { font-size: 40px; font-weight: bold; color: #0f9; text-shadow: 2px 2px #f0f; animation: glitch 1s infinite; letter-spacing: 5px; }
        .term-text { color: #0f9; font-size: 12px; margin-top: 20px; text-align: left; width: 250px; }
        @keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } 100% { transform: translate(0); } }
        .loader-line { width: 250px; height: 2px; background: #333; margin-top: 10px; position: relative; overflow: hidden; }
        .loader-line::after { content: ''; position: absolute; left: -50%; width: 50%; height: 100%; background: #0f9; animation: loadLine 2s linear infinite; }
        @keyframes loadLine { 0% { left: -50%; } 100% { left: 100%; } }

        /* --- UI ELEMENTS --- */
        .lang-bar { display: flex; justify-content: center; gap: 10px; padding: 10px; position: absolute; top: 0; width: 100%; z-index: 50; }
        .t-btn { background: rgba(0,0,0,0.5); color: #555; border: 1px solid #333; padding: 4px 10px; border-radius: 4px; font-size: 10px; cursor: pointer; backdrop-filter: blur(4px); }
        .t-btn.active { color: #0f9; border-color: #0f9; box-shadow: 0 0 5px #0f9; }

        .tab { display: none; padding: 20px; padding-top: 60px; padding-bottom: 90px; height: 85vh; overflow-y: auto; scrollbar-width: none; }
        
        /* --- CORE --- */
        #balance-con { margin-top: 20px; margin-bottom: 20px; }
        #balance { font-size: 52px; font-weight: 700; color: #fff; text-shadow: 0 0 20px rgba(0,255,153,0.5); }
        .cy { color: #0f9; font-size: 24px; vertical-align: super; }
        
        .main-img-con { position: relative; width: 220px; height: 220px; margin: 0 auto; display: flex; align-items: center; justify-content: center; }
        .main-img { width: 100%; height: 100%; border-radius: 50%; border: 2px solid rgba(0,255,153,0.3); box-shadow: 0 0 30px rgba(0,255,153,0.2); cursor: pointer; z-index: 10; transition: transform 0.05s; -webkit-user-drag: none; }
        .main-img:active { transform: scale(0.96); border-color: #0f9; box-shadow: 0 0 50px rgba(0,255,153,0.6); }
        
        /* Part√≠culas Multi-Touch */
        .float-text { position: absolute; color: #fff; font-weight: bold; font-size: 24px; pointer-events: none; animation: floatUp 0.8s ease-out forwards; text-shadow: 0 0 5px #0f9; z-index: 20; }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100px) scale(1.5); opacity: 0; } }

        /* --- CARDS & PANELS --- */
        .card { background: rgba(10,10,10,0.8); border: 1px solid #222; border-left: 3px solid #0f9; border-radius: 10px; padding: 15px; margin-bottom: 12px; text-align: left; display: flex; align-items: center; justify-content: space-between; backdrop-filter: blur(5px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        
        /* --- MARKET UI --- */
        .market-header { background: #111; padding: 15px; border-radius: 12px; border: 1px solid #333; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .w-btn { background: #f00; color: #fff; border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; font-family: 'Rajdhani'; cursor: pointer; box-shadow: 0 0 10px rgba(255,0,0,0.3); }
        .buy-btn { background: #0f9; color: #000; border: none; padding: 8px 20px; border-radius: 4px; font-weight: bold; font-family: 'Rajdhani'; cursor: pointer; text-transform: uppercase; font-size: 14px; }
        
        /* --- RANKING --- */
        .rank-row { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #222; }
        .rank-pos { width: 30px; font-weight: bold; color: #555; }
        .rank-1 { color: #ffd700; text-shadow: 0 0 10px #ffd700; }
        .rank-name { flex-grow: 1; text-align: left; margin-left: 10px; }
        .rank-val { color: #0f9; font-weight: bold; }

        /* --- NAV --- */
        .nav { position: fixed; bottom: 0; width: 100%; display: flex; background: rgba(5,5,5,0.95); border-top: 1px solid #222; padding-bottom: 20px; padding-top: 10px; z-index: 100; backdrop-filter: blur(10px); }
        .n-btn { flex: 1; color: #444; font-size: 10px; font-weight: bold; display: flex; flex-direction: column; align-items: center; gap: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .n-btn.active { color: #0f9; text-shadow: 0 0 10px rgba(0,255,153,0.6); }
        .n-icon { font-size: 22px; margin-bottom: 2px; }

        h2 { color: #fff; margin: 0 0 15px 0; text-transform: uppercase; letter-spacing: 2px; border-bottom: 1px solid #333; padding-bottom: 10px; display: inline-block; }
    </style>
</head>
<body>

    <div id="loader">
        <div class="glitch" data-text="EURODASH">EURODASH</div>
        <div class="loader-line"></div>
        <div class="term-text" id="term">
            > INITIALIZING KERNEL...<br>
            > CONNECTING SATELLITE...<br>
            > DECRYPTING WALLET...
        </div>
    </div>

    <div class="lang-bar">
        <button class="t-btn active" id="btn-en" onclick="setL('en')">EN</button>
        <button class="t-btn" id="btn-pt" onclick="setL('pt')">PT</button>
        <button class="t-btn" id="btn-ru" onclick="setL('ru')">RU</button>
    </div>

    <div id="tab-core" class="tab" style="display:block;">
        <div style="margin-top:20px;">
             <span style="background:rgba(0,255,153,0.1); color:#0f9; padding:5px 10px; border-radius:20px; font-size:12px; border:1px solid rgba(0,255,153,0.3);">üü¢ SYSTEM ONLINE</span>
        </div>
        
        <div id="balance-con">
            <div id="balance"><span class="cy">‚Ç¨</span><span id="bal-val">0.00000</span></div>
            <small style="color:#666; letter-spacing:1px;">AVAILABLE BALANCE</small>
        </div>

        <div class="main-img-con">
            <img src="image_3.jpg" class="main-img" id="click-btn" onerror="this.src='https://via.placeholder.com/220/000/0f9?text=TAP'">
        </div>

        <div style="margin-top: 40px; display:flex; justify-content:center; gap:20px;">
            <div style="text-align:center">
                <div style="color:#0f9; font-size:20px; font-weight:bold;">‚ö° <span id="eg">500</span></div>
                <small style="color:#555">ENERGY</small>
            </div>
            <div style="text-align:center">
                <div style="color:#0f9; font-size:20px; font-weight:bold;">üöÄ <span id="pps-disp">0</span></div>
                <small style="color:#555">PROFIT/SEC</small>
            </div>
        </div>
    </div>

    <div id="tab-shop" class="tab">
        <h2 id="txt-m">MARKETPLACE</h2>
        
        <div class="market-header">
            <div style="text-align:left">
                <small style="color:#888">WALLET</small><br>
                <span style="color:#fff; font-weight:bold; font-size:18px;">‚Ç¨<span id="bal-shop">0.00</span></span>
            </div>
            <button class="w-btn" onclick="withdraw()" id="btn-wd">WITHDRAW</button>
        </div>

        <div id="shop-list"></div>
    </div>

    <div id="tab-rank" class="tab">
        <h2 id="txt-r">GLOBAL RANK</h2>
        <div style="background:#111; border-radius:10px; padding:10px; border:1px solid #333;">
            <div class="rank-row"><span class="rank-pos rank-1">#1</span> <span class="rank-name">ElonM***</span> <span class="rank-val">‚Ç¨45,201</span></div>
            <div class="rank-row"><span class="rank-pos">#2</span> <span class="rank-name">CryptoK***</span> <span class="rank-val">‚Ç¨32,109</span></div>
            <div class="rank-row"><span class="rank-pos">#3</span> <span class="rank-name">Satoshi***</span> <span class="rank-val">‚Ç¨28,550</span></div>
            <div class="rank-row"><span class="rank-pos">#4</span> <span class="rank-name">Viktor***</span> <span class="rank-val">‚Ç¨12,400</span></div>
            <div class="rank-row" style="opacity:0.5"><span class="rank-pos">...</span></div>
            <div class="rank-row" style="background:rgba(0,255,153,0.1); border:1px solid #0f9; border-radius:5px; margin-top:10px;">
                <span class="rank-pos" style="color:#0f9">YOU</span> 
                <span class="rank-name" style="color:#fff">ME</span> 
                <span class="rank-val">‚Ç¨<span id="bal-rank">0.00</span></span>
            </div>
        </div>
    </div>

    <div id="tab-friends" class="tab">
        <h2 id="txt-f">NETWORK</h2>
        
        <div class="card" style="display:block; text-align:center; padding:30px;">
            <div style="font-size:40px;">üíé</div>
            <h3 style="color:#fff; margin:10px 0;">INVITE & EARN</h3>
            <p style="color:#888; font-size:13px; margin-bottom:20px;">
                Level 1: <b style="color:#0f9">‚Ç¨0.01</b> per user<br>
                Level 2: <b style="color:#0f9">5%</b> commissions
            </p>
            <div style="background:#000; padding:10px; color:#0f9; font-family:monospace; border:1px dashed #333; margin-bottom:10px; word-break:break-all;" id="my-link">...</div>
            <button onclick="copyLink()" class="buy-btn" style="width:100%">COPY LINK</button>
        </div>
    </div>

    <div id="tab-earn" class="tab">
        <h2 id="txt-e">MISSIONS</h2>
        <div class="card">
            <div style="text-align:left">
                <b style="color:#fff">Join Telegram</b><br>
                <small style="color:#0f9">+‚Ç¨0.10 Reward</small>
            </div>
            <button class="buy-btn" id="task-group" onclick="doTask('group', 0.10, 'https://t.me/eurodash_official')">START</button>
        </div>
        <div class="card">
            <div style="text-align:left">
                <b style="color:#fff">Daily Check-in</b><br>
                <small style="color:#0f9">+‚Ç¨0.01 Reward</small>
            </div>
            <button class="buy-btn" id="task-daily" onclick="doTask('daily', 0.01, null)">CLAIM</button>
        </div>
    </div>

    <div class="nav">
        <div class="n-btn active" id="nb-core" onclick="sw('core')"><span class="n-icon">‚ö°</span> <span id="n-home">MINER</span></div>
        <div class="n-btn" id="nb-shop" onclick="sw('shop')"><span class="n-icon">üõçÔ∏è</span> <span id="n-shop">MARKET</span></div>
        <div class="n-btn" id="nb-rank" onclick="sw('rank')"><span class="n-icon">üèÜ</span> <span id="n-rank">RANK</span></div>
        <div class="n-btn" id="nb-friends" onclick="sw('friends')"><span class="n-icon">üë•</span> <span id="n-friends">FRIENDS</span></div>
        <div class="n-btn" id="nb-earn" onclick="sw('earn')"><span class="n-icon">üéØ</span> <span id="n-earn">EARN</span></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // --- CONFIG ---
        let L = 'en'; // DEFAULT ENGLISH
        const txt = {
            en: { m: "MARKETPLACE", f: "NETWORK", e: "MISSIONS", r: "LEADERBOARD", w: "WITHDRAW", names: ["Micro Node","Blade Rack","Turbo Server","Cyber Station","Quantum Rig","Neural Hub","Titan Core"], n: ["MINER","MARKET","RANK","FRIENDS","EARN"] },
            pt: { m: "MERCADO", f: "REDE", e: "MISS√ïES", r: "RANKING", w: "LEVANTAR", names: ["N√≥ Micro","Rack Blade","Turbo Server","Cyber Station","Quantum Rig","Hub Neural","N√∫cleo Titan"], n: ["MINAR","MERCADO","RANK","AMIGOS","GANHAR"] },
            ru: { m: "–†–´–ù–û–ö", f: "–°–ï–¢–¨", e: "–ú–ò–°–°–ò–ò", r: "–†–ï–ô–¢–ò–ù–ì", w: "–í–´–í–û–î", names: ["–ú–∏–∫—Ä–æ –£–∑–µ–ª","Blade –°—Ç–æ–π–∫–∞","–¢—É—Ä–±–æ –°–µ—Ä–≤–µ—Ä","–ö–∏–±–µ—Ä –°—Ç–∞–Ω—Ü–∏—è","–ö–≤–∞–Ω—Ç–æ–≤—ã–π –†–∏–≥","–ù–µ–π—Ä–æ –•–∞–±","–Ø–¥—Ä–æ –¢–∏—Ç–∞–Ω–∞"], n: ["–ú–ê–ô–ù–ï–†","–†–´–ù–û–ö","–¢–û–ü","–î–†–£–ó–¨–Ø","–ó–ê–î–ê–ù–ò–Ø"] }
        };

        // Economia Hardcore V20
        const miners = [
            {p:0.05, g:0.00000012, img: "miner1.jpg"}, {p:1.00, g:0.00000096, img: "miner2.jpg"}, 
            {p:10.00, g:0.00000720, img: "miner3.jpg"}, {p:50.00, g:0.00002800, img: "miner4.jpg"}, 
            {p:200.00, g:0.00009200, img: "miner5.jpg"}, {p:800.00, g:0.00030000, img: "miner6.jpg"}, 
            {p:3000.00, g:0.00099000, img: "miner7.jpg"}
        ];

        let u = { bal: 0, pps: 0, eng: 500, inv: [0,0,0,0,0,0,0], tasks: {} };
        let loaded = false;

        firebase.initializeApp({
            apiKey: "AIzaSyDFpFu8sba50rqnJSstg--cLrNDG4ybmu8",
            authDomain: "eurodash-e466c.firebaseapp.com",
            databaseURL: "https://eurodash-e466c-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "eurodash-e466c",
            appId: "1:99813963051:web:fe96761e990aee01ec016e"
        });
        const db = firebase.database();
        const uid = tg.initDataUnsafe.user?.id || 22250; 
        const botName = "EuroDash_Bot"; 

        // --- BOOT SYSTEM ---
        window.onload = function() {
            setTimeout(() => { document.getElementById('term').innerHTML += "<br>> ACCESS GRANTED."; }, 1500);
            
            db.ref('users/' + uid).once('value').then(s => {
                if(s.exists()) {
                    let d = s.val();
                    u = { ...u, ...d }; // Merge safe
                    u.inv = Array.isArray(d.inv) ? d.inv : [0,0,0,0,0,0,0];
                }
                loaded = true;
                up(); renderShop(); checkTasks();
                
                setTimeout(() => { document.getElementById('loader').style.display = 'none'; }, 3500);
            });

            document.getElementById('my-link').innerText = `https://t.me/${botName}?start=${uid}`;
            
            // MULTI-TOUCH HANDLER
            const btn = document.getElementById('click-btn');
            btn.addEventListener('touchstart', handleTouch, {passive: false});
        };

        function handleTouch(e) {
            e.preventDefault(); // Impede zoom
            if(u.eng < 1) return;
            
            // Para cada dedo
            for (let i = 0; i < e.changedTouches.length; i++) {
                if(u.eng > 0) {
                    u.bal += 0.00005;
                    u.eng -= 1;
                    spawnText(e.changedTouches[i].clientX, e.changedTouches[i].clientY);
                }
            }
            up(); tg.HapticFeedback.impactOccurred('heavy');
        }

        // Fallback Click (rato)
        document.getElementById('click-btn').addEventListener('click', (e) => {
            if(u.eng > 0) { u.bal += 0.00005; u.eng -= 1; up(); spawnText(e.clientX, e.clientY); }
        });

        function spawnText(x, y) {
            const el = document.createElement('div');
            el.innerText = '+0.00005';
            el.className = 'float-text';
            el.style.left = x + 'px'; el.style.top = y + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 800);
        }

        function withdraw() {
            if(u.bal < 1.00) {
                tg.showAlert("Minimum withdraw: ‚Ç¨1.00");
            } else {
                tg.showAlert("Withdraw request sent to Admin! Processing time: 24h.");
                // Aqui no futuro podes adicionar l√≥gica para gravar o pedido na BD
            }
        }

        function doTask(id, reward, url) {
            if(u.tasks[id]) return;
            if(url) tg.openLink(url);
            
            setTimeout(() => {
                if(!u.tasks[id]) {
                    u.tasks[id] = true; u.bal += reward;
                    up(); checkTasks();
                    tg.showAlert(`Reward: +‚Ç¨${reward}`);
                }
            }, 3000);
        }

        function checkTasks() {
            if(u.tasks['group']) { document.getElementById('task-group').innerText = "DONE"; document.getElementById('task-group').style.opacity = 0.5; }
            if(u.tasks['daily']) { document.getElementById('task-daily').innerText = "CLAIMED"; document.getElementById('task-daily').style.opacity = 0.5; }
        }

        function renderShop() {
            document.getElementById('shop-list').innerHTML = miners.map((m,i) => `
                <div class="card">
                    <div style="display:flex; gap:10px; align-items:center;">
                        <img src="${m.img}" style="width:50px; height:50px; border-radius:5px; border:1px solid #333; background:#000;" onerror="this.src='https://via.placeholder.com/50'">
                        <div style="text-align:left">
                            <b style="color:#fff">${txt[L].names[i]}</b><br>
                            <small style="color:#888">Lvl: ${u.inv[i]||0} | +‚Ç¨${(m.g*3600).toFixed(4)}/h</small>
                        </div>
                    </div>
                    <button class="buy-btn" onclick="buy(${i})">‚Ç¨${m.p}</button>
                </div>
            `).join('');
        }

        function buy(i) {
            if(!loaded) return;
            if(u.bal >= miners[i].p) {
                u.bal -= miners[i].p; u.pps += miners[i].g; u.inv[i] = (u.inv[i]||0) + 1;
                renderShop(); up(); tg.HapticFeedback.notificationOccurred('success');
            } else {
                tg.HapticFeedback.notificationOccurred('error');
            }
        }

        function setL(l) {
            L = l;
            document.querySelectorAll('.t-btn').forEach(b => b.classList.toggle('active', b.id === 'btn-' + l));
            document.getElementById('txt-m').innerText = txt[L].m;
            document.getElementById('txt-f').innerText = txt[L].f;
            document.getElementById('txt-e').innerText = txt[L].e;
            document.getElementById('txt-r').innerText = txt[L].r;
            document.getElementById('btn-wd').innerText = txt[L].w;
            document.getElementById('n-home').innerText = txt[L].n[0];
            document.getElementById('n-shop').innerText = txt[L].n[1];
            document.getElementById('n-rank').innerText = txt[L].n[2];
            document.getElementById('n-friends').innerText = txt[L].n[3];
            document.getElementById('n-earn').innerText = txt[L].n[4];
            renderShop();
        }

        function sw(t) {
            document.querySelectorAll('.tab').forEach(el => el.style.display = 'none');
            document.getElementById('tab-' + t).style.display = 'block';
            document.querySelectorAll('.n-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('nb-' + t).classList.add('active');
        }

        function up() {
            document.getElementById('bal-val').innerText = u.bal.toFixed(5);
            document.getElementById('bal-shop').innerText = u.bal.toFixed(2);
            document.getElementById('bal-rank').innerText = u.bal.toFixed(5);
            document.getElementById('eg').innerText = Math.floor(u.eng);
            document.getElementById('pps-disp').innerText = (u.pps * 100).toFixed(6);
        }
        
        function copyLink() {
            navigator.clipboard.writeText(document.getElementById('my-link').innerText);
            tg.showAlert("Link Copied!");
        }

        setInterval(() => { if(loaded) { u.bal += u.pps; if(u.eng < 500) u.eng += 0.5; up(); } }, 1000);
        setInterval(() => { if(loaded && uid) db.ref('users/' + uid).update(u); }, 5000);
    </script>
</body>
</html>
